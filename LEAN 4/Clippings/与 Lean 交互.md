---
title: "ä¸ Lean äº¤äº’"
source: "https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/#interacting-with-lean"
author:
published:
created: 2026-01-31
description:
tags:
  - "clippings"
---
## 6\. ä¸ Lean äº¤äº’ğŸ”—

ä½ ç°åœ¨å·²ç»ç†Ÿæ‚‰äº†ä¾å€¼ç±»å‹è®ºçš„åŸºæœ¬åŸç†ï¼Œå®ƒæ—¢æ˜¯ä¸€ç§å®šä¹‰æ•°å­¦å¯¹è±¡çš„è¯­è¨€ï¼Œä¹Ÿæ˜¯ä¸€ç§æ„é€ è¯æ˜çš„è¯­è¨€ã€‚ ç°åœ¨ä½ ç¼ºå°‘ä¸€ä¸ªå®šä¹‰æ–°æ•°æ®ç±»å‹çš„æœºåˆ¶ã€‚ä¸‹ä¸€ç« ä»‹ç» *å½’çº³æ•°æ®ç±»å‹* çš„æ¦‚å¿µæ¥å¸®ä½ å®Œæˆè¿™ä¸ªç›®æ ‡ã€‚ ä½†é¦–å…ˆï¼Œåœ¨è¿™ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬ä»ç±»å‹è®ºçš„æœºåˆ¶ä¸­æŠ½èº«å‡ºæ¥ï¼Œæ¢ç´¢ä¸ Lean äº¤äº’çš„ä¸€äº›å®ç”¨æ€§é—®é¢˜ã€‚

å¹¶éæ‰€æœ‰çš„çŸ¥è¯†éƒ½èƒ½é©¬ä¸Šå¯¹ä½ æœ‰ç”¨ã€‚å¯ä»¥ç•¥è¿‡è¿™ä¸€èŠ‚ï¼Œç„¶ååœ¨å¿…è¦æ—¶å†å›åˆ°è¿™ä¸€èŠ‚ä»¥äº†è§£ Lean çš„ç‰¹æ€§ã€‚

## 6.1. æ¶ˆæ¯ğŸ”—

Lean äº§ç”Ÿä¸‰ç§æ¶ˆæ¯ï¼š

é”™è¯¯ (Errors)

å½“ä»£ç ä¸­çš„ä¸ä¸€è‡´æ„å‘³ç€æ— æ³•å¤„ç†æ—¶ï¼Œå°±ä¼šäº§ç”Ÿé”™è¯¯ã€‚ä¾‹å¦‚è¯­æ³•é”™è¯¯ï¼ˆä¾‹å¦‚ç¼ºå°‘ `)` ï¼‰å’Œç±»å‹é”™è¯¯ï¼ˆä¾‹å¦‚è¯•å›¾å°†è‡ªç„¶æ•°åŠ åˆ°å‡½æ•°ä¸Šï¼‰ã€‚

è­¦å‘Š (Warnings)

è­¦å‘Šæè¿°äº†ä»£ç çš„æ½œåœ¨é—®é¢˜ï¼Œä¾‹å¦‚å­˜åœ¨ `sorry` ã€‚ä¸é”™è¯¯ä¸åŒï¼Œä»£ç å¹¶éæ¯«æ— æ„ä¹‰ï¼›ä½†æ˜¯ï¼Œè­¦å‘Šå€¼å¾—ä»”ç»†å…³æ³¨ã€‚

ä¿¡æ¯ (Information)

ä¿¡æ¯å¹¶ä¸è¡¨ç¤ºä»£ç æœ‰ä»»ä½•é—®é¢˜ï¼ŒåŒ…æ‹¬ `#check` å’Œ `#eval` ç­‰å‘½ä»¤çš„è¾“å‡ºã€‚

Lean å¯ä»¥æ£€æŸ¥å‘½ä»¤æ˜¯å¦äº§ç”Ÿé¢„æœŸçš„æ¶ˆæ¯ã€‚å¦‚æœæ¶ˆæ¯åŒ¹é…ï¼Œåˆ™å¿½ç•¥ä»»ä½•é”™è¯¯ï¼›è¿™å¯ç”¨äºç¡®ä¿å‘ç”Ÿæ­£ç¡®çš„é”™è¯¯ã€‚ å¦‚æœä¸åŒ¹é…ï¼Œåˆ™ä¼šäº§ç”Ÿé”™è¯¯ã€‚ä½ å¯ä»¥ä½¿ç”¨ `#guard_msgs` å‘½ä»¤æ¥æŒ‡ç¤ºé¢„æœŸçš„æ¶ˆæ¯ã€‚

è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

`/-- error: Type mismatch   "Not a number" has type   String but is expected to have type   Nat -/[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")defx:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"):="Not a number"`

åœ¨ `[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")` åçš„æ‹¬å·ä¸­åŒ…å«æ¶ˆæ¯ç±»åˆ«ä¼šå¯¼è‡´å®ƒä»…æ£€æŸ¥æŒ‡å®šçš„ç±»åˆ«ï¼Œè€Œè®©å…¶ä»–ç±»åˆ«é€šè¿‡ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ `[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")` ç”±äºå­˜åœ¨ `sorry` è€Œå‘å‡ºé”™è¯¯ï¼Œä½†é€šå¸¸é’ˆå¯¹ `sorry` å‘å‡ºçš„è­¦å‘Šç…§å¸¸æ˜¾ç¤ºï¼š

``/-- error: aborting evaluation since the expression depends on the 'sorry' axiom, which can lead to runtime instability and crashes.  To attempt to evaluate anyway despite the risks, use the '#eval!' command. -/[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")(error)[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")`declaration uses 'sorry'`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")(sorry:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))``
```
declaration uses 'sorry'
```

å¦‚æœæ²¡æœ‰é…ç½®ï¼Œåˆ™ä¼šæ•è·è¿™ä¸¤æ¡æ¶ˆæ¯ï¼š

```/-- error: aborting evaluation since the expression depends on the 'sorry' axiom, which can lead to runtime instability and crashes.  To attempt to evaluate anyway despite the risks, use the '#eval!' command. --- warning: declaration uses 'sorry' -/``âŒï¸ Docstring on `#guard_msgs` does not match generated message:- error: aborting evaluation since the expression depends on the- 'sorry' axiom, which can lead to runtime instability and crashes.+ warning: declaration uses 'sorry'+ ---+ error: aborting evaluation since the expression depends on the 'sorry' axiom, which can lead to runtime instability and crashes.- To attempt to evaluate anyway despite the risks, use the '#eval!'- command.- ---- warning: declaration uses 'sorry'+ To attempt to evaluate anyway despite the risks, use the '#eval!' command.``[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")`declaration uses 'sorry'``aborting evaluation since the expression depends on the 'sorry' axiom, which can lead to runtime instability and crashes.To attempt to evaluate anyway despite the risks, use the '#eval!' command.`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")(sorry:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))```
```
âŒï¸ Docstring on \`#guard_msgs\` does not match generated message:

- error: aborting evaluation since the expression depends on the
- 'sorry' axiom, which can lead to runtime instability and crashes.
+ warning: declaration uses 'sorry'
+ ---
+ error: aborting evaluation since the expression depends on the 'sorry' axiom, which can lead to runtime instability and crashes.
 
- To attempt to evaluate anyway despite the risks, use the '#eval!'
- command.
- ---
- warning: declaration uses 'sorry'
+ To attempt to evaluate anyway despite the risks, use the '#eval!' command.
```

æœ¬ä¹¦ä¸­çš„ä¸€äº›ç¤ºä¾‹ä½¿ç”¨ `[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")` æ¥æŒ‡ç¤ºé¢„æœŸçš„é”™è¯¯ã€‚

## 6.2. å¯¼å…¥æ–‡ä»¶ğŸ”—

Lean çš„å‰ç«¯çš„ç›®æ ‡æ˜¯è§£é‡Šç”¨æˆ·çš„è¾“å…¥ï¼Œæ„å»ºå½¢å¼åŒ–çš„è¡¨è¾¾å¼ï¼Œå¹¶æ£€æŸ¥å®ƒä»¬æ˜¯å¦å½¢å¼è‰¯å¥½å’Œç±»å‹æ­£ç¡®ã€‚ Lean è¿˜æ”¯æŒä½¿ç”¨å„ç§ç¼–è¾‘å™¨ï¼Œè¿™äº›ç¼–è¾‘å™¨æä¾›æŒç»­çš„æ£€æŸ¥å’Œåé¦ˆã€‚æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨ Lean [æ–‡æ¡£](https://lean-lang.org/documentation/) ä¸Šæ‰¾åˆ°ã€‚

Lean çš„æ ‡å‡†åº“ä¸­çš„å®šä¹‰å’Œå®šç†åˆ†å¸ƒåœ¨å¤šä¸ªæ–‡ä»¶ä¸­ã€‚ç”¨æˆ·ä¹Ÿå¯èƒ½å¸Œæœ›ä½¿ç”¨é¢å¤–çš„åº“ï¼Œæˆ–åœ¨å¤šä¸ªæ–‡ä»¶ä¸­å¼€å‘è‡ªå·±çš„é¡¹ç›®ã€‚ å½“ Lean å¯åŠ¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å¯¼å…¥åº“ä¸­ `Init` æ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€äº›åŸºæœ¬å®šä¹‰å’Œç»“æ„ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä»‹ç»çš„å¤§å¤šæ•°ä¾‹å­éƒ½æ˜¯â€œå¼€ç®±å³ç”¨â€çš„ã€‚

ç„¶è€Œï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨å…¶ä»–æ–‡ä»¶ï¼Œéœ€è¦é€šè¿‡æ–‡ä»¶å¼€å¤´çš„ `import` è¯­å¥æ‰‹åŠ¨å¯¼å…¥ã€‚å‘½ä»¤

> `import` ` Bar.Baz.Blah`

å¯¼å…¥æ–‡ä»¶ `Bar/Baz/Blah.olean` ï¼Œå…¶ä¸­çš„æè¿°æ˜¯ç›¸å¯¹äº Lean *æœç´¢è·¯å¾„* è§£é‡Šçš„ã€‚ å…³äºå¦‚ä½•ç¡®å®šæœç´¢è·¯å¾„çš„ä¿¡æ¯å¯ä»¥åœ¨ [æ–‡æ¡£](https://lean-lang.org/documentation/) ä¸­æ‰¾åˆ°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåŒ…æ‹¬æ ‡å‡†åº“ç›®å½•ï¼Œä»¥åŠï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹ï¼‰ç”¨æˆ·çš„æœ¬åœ°é¡¹ç›®çš„æ ¹ç›®å½•ã€‚

å¯¼å…¥æ˜¯ä¼ é€’æ€§çš„ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ å¯¼å…¥äº† `Foo` ï¼Œå¹¶ä¸” `Foo` å¯¼å…¥äº† `Bar` ï¼Œ é‚£ä¹ˆä½ ä¹Ÿå¯ä»¥è®¿é—® `Bar` çš„å†…å®¹ï¼Œè€Œä¸éœ€è¦æ˜ç¡®å¯¼å…¥å®ƒã€‚

Lean æä¾›äº†å„ç§åˆ†æ®µæœºåˆ¶æ¥å¸®åŠ©æ„é€ ç†è®ºã€‚ä½ åœ¨ [å˜é‡å’Œå°èŠ‚](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/DependentTypeTheory/#variables-and-sections) ä¸­çœ‹åˆ°ï¼Œ `section` å‘½ä»¤ä¸ä»…å¯ä»¥å°†ç†è®ºä¸­çš„å…ƒç´ ç»„åˆåœ¨ä¸€èµ·ï¼Œè¿˜å¯ä»¥åœ¨å¿…è¦æ—¶å£°æ˜å˜é‡ï¼Œä½œä¸ºå®šç†å’Œå®šä¹‰çš„å‚æ•°æ’å…¥ã€‚ è¯·è®°ä½ï¼Œ `variable` å‘½ä»¤çš„æ„ä¹‰åœ¨äºå£°æ˜å˜é‡ï¼Œä»¥ä¾¿åœ¨å®šç†ä¸­ä½¿ç”¨ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ï¼š

`[section](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___section "Documentation for syntax in Lean Language Reference")` `[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference")(xy:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))` `defdouble:=x+x` `` `doubley : [Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")doubley ``
```
double y : Nat
```
`` `double[(](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")2[*](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")x[)](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference") : [Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")double(2*x) ``
```
double (2 * x) : Nat
```
`[attribute](https://lean-lang.org/doc/reference/4.26.0/Attributes/#Lean___Parser___Command___attribute "Documentation for syntax in Lean Language Reference")[localsimp]Nat.add_assocNat.add_commNat.add_left_comm` `theoremt1:double(x+y)=doublex+doubley:=x:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")y:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")âŠ¢ double[(](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")x[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")y[)](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")doublex[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")doubleyAll goals completed! ğŸ™` `` `t1y : âˆ€(y_1:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")),double[(](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")y[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")y_1[)](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")doubley[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")doubley_1`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")t1y ``
```
t1 y : âˆ€ (y_1 : Nat), double (y + y_1) = double y + double y_1
```
`` `t1[(](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")2[*](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")x[)](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference") : âˆ€(y:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")),double[(](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")2[*](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")x[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")y[)](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")double[(](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")2[*](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")x[)](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")doubley`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")t1(2*x) ``
```
t1 (2 * x) : âˆ€ (y : Nat), double (2 * x + y) = double (2 * x) + double y
```
`theoremt2:double(x*y)=doublex*y:=x:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")y:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")âŠ¢ double[(](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")x[*](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")y[)](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")doublex[*](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")yAll goals completed! ğŸ™` `end`

`double` çš„å®šä¹‰ä¸éœ€è¦å£°æ˜ `x` ä½œä¸ºå‚æ•°ï¼›Lean æ£€æµ‹åˆ°è¿™ç§ä¾èµ–å…³ç³»å¹¶è‡ªåŠ¨æ’å…¥ã€‚ åŒæ ·ï¼ŒLean æ£€æµ‹åˆ° `x` åœ¨ `t1` å’Œ `t2` ä¸­çš„å‡ºç°ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ’å…¥ã€‚ æ³¨æ„ï¼Œ `double` *æ²¡æœ‰* `y` ä½œä¸ºå‚æ•°ã€‚å˜é‡åªåŒ…æ‹¬åœ¨å®é™…ä½¿ç”¨çš„å£°æ˜ä¸­ã€‚

åœ¨ Lean ä¸­ï¼Œæ ‡è¯†ç¬¦æ˜¯ç”±å±‚æ¬¡åŒ–çš„ *åç§°* ç»™å‡ºçš„ï¼Œå¦‚ `Foo.Bar.baz` ã€‚ æˆ‘ä»¬åœ¨ [å‘½åç©ºé—´](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/DependentTypeTheory/#namespaces) ä¸€èŠ‚ä¸­çœ‹åˆ°ï¼ŒLean æä¾›äº†å¤„ç†åˆ†å±‚åç§°çš„æœºåˆ¶ã€‚ å‘½ä»¤ `namespace` ` Foo` å¯¼è‡´ `Foo` è¢«æ·»åŠ åˆ°æ¯ä¸ªå®šä¹‰å’Œå®šç†çš„åç§°ä¸­ï¼Œç›´åˆ°é‡åˆ° `end` ` Foo` ã€‚ å‘½ä»¤ `open` ` Foo` ç„¶åä¸ºä»¥ `Foo` å¼€å¤´çš„å®šä¹‰å’Œå®šç†åˆ›å»ºä¸´æ—¶çš„ *åˆ«å* ã€‚

`[namespace](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___namespace "Documentation for syntax in Lean Language Reference")Foo` `defbar:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"):=1` `endFoo` `[open](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___open "Documentation for syntax in Lean Language Reference")Foo` `` `Foo.bar:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")bar ``
```
Foo.bar : Nat
```
`` `Foo.bar:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")Foo.bar ``
```
Foo.bar : Nat
```

ä¸‹é¢çš„å®šä¹‰

`defFoo.bar:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"):=1`

è¢«çœ‹æˆä¸€ä¸ªå®ï¼Œå±•å¼€æˆ

`[namespace](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___namespace "Documentation for syntax in Lean Language Reference")Foo` `defbar:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"):=1` `endFoo`

å°½ç®¡å®šç†å’Œå®šä¹‰çš„åç§°å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†æ ‡è¯†å®ƒä»¬çš„åˆ«åå´ä¸æ˜¯ã€‚å½“æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªå‘½åç©ºé—´æ—¶ï¼Œä¸€ä¸ªæ ‡è¯†ç¬¦å¯èƒ½æ˜¯æ¨¡ç³Šçš„ã€‚ Lean è¯•å›¾ä½¿ç”¨ç±»å‹ä¿¡æ¯æ¥æ¶ˆé™¤ä¸Šä¸‹æ–‡ä¸­çš„å«ä¹‰ï¼Œä½†ä½ æ€»æ˜¯å¯ä»¥é€šè¿‡ç»™å‡ºå…¨åæ¥æ¶ˆé™¤æ­§ä¹‰ã€‚ ä¸ºæ­¤ï¼Œå­—ç¬¦ä¸² `_root_` æ˜¯å¯¹ç©ºå‰ç¼€çš„æ˜ç¡®è¡¨è¿°ã€‚

`defString.add(ab:[String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference")):[String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference"):=a++b` `defBool.add(ab:[Bool](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool in Lean Language Reference")):[Bool](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool in Lean Language Reference"):=a!=b` `defadd(Î±Î²:Type):Type:=[Sum](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Sum-Types/#Sum___inl "Documentation for Sum in Lean Language Reference")Î±Î²` `[open](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___open "Documentation for syntax in Lean Language Reference")Bool` `[open](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___open "Documentation for syntax in Lean Language Reference")String` ``-- This reference is ambiguous: -- #check add  `[String.add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example")(ab:[String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference")):[String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[String.add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example")``
```
String.add (a b : String) : String
```
`` `[Bool.add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example")(ab:[Bool](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool in Lean Language Reference")):[Bool](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[Bool.add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example") ``
```
Bool.add (a b : Bool) : Bool
```
`` `_root_.add(Î±Î²:Type):Type`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")_root_.add ``
```
_root_.add (Î± Î² : Type) : Type
```
`` `"hello".[add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example")"world" : [String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example")"hello""world" ``
```
"hello".add "world" : String
```
`` `[true](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool.true in Lean Language Reference").[add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example")[false](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool.false in Lean Language Reference") : [Bool](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[add](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#String___add "Definition of example")[true](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool.true in Lean Language Reference")[false](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Booleans/#Bool___false "Documentation for Bool.false in Lean Language Reference") ``
```
true.add false : Bool
```
`` `_root_.add[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference") : Type`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")add[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")Nat ``
```
_root_.add Nat Nat : Type
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ `protected` å…³é”®å­—æ¥é˜»æ­¢åˆ›å»ºè¾ƒçŸ­çš„åˆ«åï¼š

`protecteddefFoo.bar:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"):=1` `[open](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___open "Documentation for syntax in Lean Language Reference")Foo` ``/-- error: Unknown identifier `bar` -/[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")bar -- error  `` `` `Foo.bar:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")Foo.bar ``
```
Foo.bar : Nat
```

è¿™é€šå¸¸ç”¨äºåƒ `Nat.rec` å’Œ `Nat.recOn` è¿™æ ·çš„åç§°ï¼Œä»¥é˜²æ­¢æ™®é€šåç§°çš„é‡è½½ã€‚

`[open](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___open "Documentation for syntax in Lean Language Reference")` å‘½ä»¤å…è®¸å˜ä½“ã€‚å‘½ä»¤

ä»…å¯¹åˆ—å‡ºçš„æ ‡è¯†ç¬¦åˆ›å»ºäº†åˆ«åã€‚å‘½ä»¤

`[open](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___open "Documentation for syntax in Lean Language Reference")Nat[hiding](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___openHiding "Documentation for syntax in Lean Language Reference")[succ](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat.succ in Lean Language Reference")[gcd](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___gcd "Documentation for Nat.gcd in Lean Language Reference")` `` `[Nat.zero](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat.zero in Lean Language Reference"):[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[zero](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat.zero in Lean Language Reference") ``
```
Nat.zero : Nat
```
``/-- error: Unknown identifier `gcd` -/[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")gcd156  -- error  `` `` `3`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")[Nat.gcd](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___gcd "Documentation for Nat.gcd in Lean Language Reference")156 ``
```
3
```

ç»™ `Nat` å‘½åç©ºé—´ä¸­ *é™¤äº†* è¢«åˆ—å‡ºçš„æ ‡è¯†ç¬¦éƒ½åˆ›å»ºäº†åˆ«åã€‚

`[open](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___open "Documentation for syntax in Lean Language Reference")Nat[renaming](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___openRenaming "Documentation for syntax in Lean Language Reference")[mul](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___mul "Documentation for Nat.mul in Lean Language Reference")â†’[times](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___mul "Documentation for Nat.mul in Lean Language Reference"),[add](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___add "Documentation for Nat.add in Lean Language Reference")â†’plus` `` `7`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")[plus](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___add "Documentation for Nat.add in Lean Language Reference")([times](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___mul "Documentation for Nat.mul in Lean Language Reference")22)3 ``
```
7
```

å°† `[Nat.mul](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___mul "Documentation for Nat.mul in Lean Language Reference")` æ›´åä¸º `[times](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___mul "Documentation for Nat.mul in Lean Language Reference")` ï¼Œ `[Nat.add](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___add "Documentation for Nat.add in Lean Language Reference")` æ›´åä¸º `plus` ã€‚

æœ‰æ—¶ï¼Œå°†åˆ«åä»ä¸€ä¸ªå‘½åç©ºé—´ `export` åˆ°å¦ä¸€ä¸ªå‘½åç©ºé—´ï¼Œæˆ–è€…å¯¼å‡ºåˆ°é¡¶å±‚æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚å‘½ä»¤

åœ¨å½“å‰å‘½åç©ºé—´ä¸­ä¸º `[succ](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat.succ in Lean Language Reference")` ã€ `[add](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___add "Documentation for Nat.add in Lean Language Reference")` å’Œ `[sub](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___sub "Documentation for Nat.sub in Lean Language Reference")` åˆ›å»ºåˆ«åï¼Œ è¿™æ ·æ— è®ºä½•æ—¶å‘½åç©ºé—´è¢«æ‰“å¼€ï¼Œè¿™äº›åˆ«åéƒ½å¯ä»¥ä½¿ç”¨ã€‚å¦‚æœè¿™ä¸ªå‘½ä»¤åœ¨åå­—ç©ºé—´ä¹‹å¤–ä½¿ç”¨ï¼Œé‚£ä¹ˆè¿™äº›åˆ«åä¼šè¢«è¾“å‡ºåˆ°é¡¶å±‚ã€‚

## 6.5. å±æ€§ğŸ”—

Lean çš„ä¸»è¦åŠŸèƒ½æ˜¯æŠŠç”¨æˆ·çš„è¾“å…¥ç¿»è¯‘æˆå½¢å¼åŒ–çš„è¡¨è¾¾å¼ï¼Œç”±å†…æ ¸æ£€æŸ¥å…¶æ­£ç¡®æ€§ï¼Œç„¶åå­˜å‚¨åœ¨ç¯å¢ƒä¸­ä¾›ä»¥åä½¿ç”¨ã€‚ ä½†æ˜¯æœ‰äº›å‘½ä»¤å¯¹ç¯å¢ƒæœ‰å…¶ä»–çš„å½±å“ï¼Œæˆ–è€…ç»™ç¯å¢ƒä¸­çš„å¯¹è±¡åˆ†é…å±æ€§ï¼Œå®šä¹‰ç¬¦å·ï¼Œæˆ–è€…å£°æ˜ç±»å‹ç±»çš„å®ä¾‹ï¼Œ å¦‚ [ç±»å‹ç±»](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/TypeClasses/#type-classes) ä¸€ç« æ‰€è¿°ã€‚è¿™äº›å‘½ä»¤å¤§å¤šå…·æœ‰å…¨å±€æ•ˆåº”ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬ä¸ä»…åœ¨å½“å‰æ–‡ä»¶ä¸­ä¿æŒæœ‰æ•ˆï¼Œ è€Œä¸”åœ¨ä»»ä½•å¯¼å…¥å®ƒçš„æ–‡ä»¶ä¸­ä¹Ÿä¿æŒæœ‰æ•ˆã€‚ç„¶è€Œï¼Œè¿™ç±»å‘½ä»¤é€šå¸¸æ”¯æŒ `local` ä¿®é¥°ç¬¦ï¼Œ è¿™è¡¨æ˜å®ƒä»¬åªåœ¨å½“å‰ `section` æˆ– `[namespace](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___namespace "Documentation for syntax in Lean Language Reference")` å…³é—­å‰æˆ–å½“å‰æ–‡ä»¶ç»“æŸå‰æœ‰æ•ˆã€‚

åœ¨ [ä½¿ç”¨ç®€åŒ–å™¨](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/Tactics/#using-the-simplifier) ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å¯ä»¥ç”¨ `[simp]` å±æ€§æ¥æ³¨é‡Šå®šç†ï¼Œ è¿™ä½¿å®ƒä»¬å¯ä»¥è¢«ç®€åŒ–å™¨ä½¿ç”¨ã€‚ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†åˆ—è¡¨çš„å‰ç¼€å…³ç³»ï¼Œè¯æ˜äº†è¿™ç§å…³ç³»æ˜¯è‡ªåçš„ï¼Œå¹¶ä¸ºè¯¥å®šç†åˆ†é…äº† `[simp]` å±æ€§ã€‚

`defisPrefix(lâ‚:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±)(lâ‚‚:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):Prop:=âˆƒt,lâ‚++t=lâ‚‚` `@[simp]theoremList.isPrefix_self(as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):isPrefixasas:=âŸ¨[],Î±:Type u_1as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±âŠ¢ as[++](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAppend___mk "Documentation for HAppend.hAppend in Lean Language Reference")[[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.nil in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")asAll goals completed! ğŸ™âŸ©` `example:isPrefix[1,2,3][1,2,3]:=âŠ¢ isPrefix[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")All goals completed! ğŸ™`

ç„¶åç®€åŒ–å™¨é€šè¿‡å°†å…¶æ”¹å†™ä¸º `[True](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Truth/#True___intro "Documentation for True in Lean Language Reference")` æ¥è¯æ˜ `isPrefix[1,2,3][1,2,3]` ã€‚

ä½ ä¹Ÿå¯ä»¥åœ¨åšå‡ºå®šä¹‰åçš„ä»»ä½•æ—¶å€™åˆ†é…å±æ€§ï¼š

`theoremList.isPrefix_self(as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):isPrefixasas:=âŸ¨[],Î±:Type u_1as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±âŠ¢ as[++](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAppend___mk "Documentation for HAppend.hAppend in Lean Language Reference")[[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.nil in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")asAll goals completed! ğŸ™âŸ©` `[attribute](https://lean-lang.org/doc/reference/4.26.0/Attributes/#Lean___Parser___Command___attribute "Documentation for syntax in Lean Language Reference")[simp]List.isPrefix_self`

åœ¨æ‰€æœ‰è¿™äº›æƒ…å†µä¸‹ï¼Œè¯¥å±æ€§åœ¨ä»»ä½•å¯¼å…¥è¯¥å£°æ˜çš„æ–‡ä»¶ä¸­ä»ç„¶æœ‰æ•ˆã€‚æ·»åŠ  `local` ä¿®é¥°ç¬¦å¯ä»¥é™åˆ¶èŒƒå›´ï¼š

`[section](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___section "Documentation for syntax in Lean Language Reference")` `theoremList.isPrefix_self(as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):isPrefixasas:=âŸ¨[],Î±:Type u_1as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±âŠ¢ as[++](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAppend___mk "Documentation for HAppend.hAppend in Lean Language Reference")[[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.nil in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")asAll goals completed! ğŸ™âŸ©` `[attribute](https://lean-lang.org/doc/reference/4.26.0/Attributes/#Lean___Parser___Command___attribute "Documentation for syntax in Lean Language Reference")[localsimp]List.isPrefix_self` `example:isPrefix[1,2,3][1,2,3]:=âŠ¢ isPrefix[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")All goals completed! ğŸ™` `end` ``/-- error: `simp` made no progress -/[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")example:isPrefix[1,2,3][1,2,3]:=âŠ¢ isPrefix[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")âŠ¢ isPrefix[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")[1[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")2[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")3[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.cons in Lean Language Reference")``

å¦ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `instance` å‘½ä»¤æ¥ç»™ `isPrefix` å…³ç³»åˆ†é…ç¬¦å· `â‰¤` ã€‚ è¯¥å‘½ä»¤å°†åœ¨ [ç±»å‹ç±»](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/TypeClasses/#type-classes) ä¸€ç« ä¸­è§£é‡Šï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯ç»™ç›¸å…³å®šä¹‰åˆ†é…ä¸€ä¸ª `[instance]` å±æ€§ã€‚

`defisPrefix(lâ‚:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±)(lâ‚‚:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):Prop:=âˆƒt,lâ‚++t=lâ‚‚` `instance:[LE](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#LE___mk "Documentation for LE in Lean Language Reference")([List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±)where[le](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#LE___mk "Documentation for LE.le in Lean Language Reference"):=isPrefix` `theoremList.isPrefix_self(as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):asâ‰¤as:=âŸ¨[],Î±:Type u_1as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±âŠ¢ as[++](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAppend___mk "Documentation for HAppend.hAppend in Lean Language Reference")[[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.nil in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")asAll goals completed! ğŸ™âŸ©`

è¿™ä¸ªåˆ†é…ä¹Ÿå¯ä»¥æ˜¯å±€éƒ¨çš„ï¼š

`definstLe:[LE](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#LE___mk "Documentation for LE in Lean Language Reference")([List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):={[le](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#LE___mk "Documentation for LE.le in Lean Language Reference"):=isPrefix}` `[section](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___section "Documentation for syntax in Lean Language Reference")` `[attribute](https://lean-lang.org/doc/reference/4.26.0/Attributes/#Lean___Parser___Command___attribute "Documentation for syntax in Lean Language Reference")[local[instance](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Instance-Declarations/#Lean___Parser___Attr___instance "Documentation for syntax in Lean Language Reference")][instLe](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#instLe "Definition of example")` `example(as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):asâ‰¤as:=âŸ¨[],Î±:Type u_1as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±âŠ¢ as[++](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAppend___mk "Documentation for HAppend.hAppend in Lean Language Reference")[[]](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List.nil in Lean Language Reference")[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")asAll goals completed! ğŸ™âŸ©` `end` ``/-- error: failed to synthesize   LE (List Î±)  Hint: Additional diagnostic information may be available using the `set_option diagnostics true` command. -/[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")example(as:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")Î±):asâ‰¤as:=âŸ¨[],by[simp](https://lean-lang.org/doc/reference/4.26.0/Tactic-Proofs/Tactic-Reference/#simp "Documentation for tactic in Lean Language Reference")âŸ©``

åœ¨ä¸‹é¢çš„ [ç¬¦å·](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#notation) ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®º Lean å®šä¹‰ç¬¦å·çš„æœºåˆ¶ï¼Œå¹¶çœ‹åˆ°å®ƒä»¬ä¹Ÿæ”¯æŒ `local` ä¿®é¥°ç¬¦ã€‚ ç„¶è€Œï¼Œåœ¨ [è®¾ç½®é€‰é¡¹](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#setting-options) ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®º Lean è®¾ç½®é€‰é¡¹çš„æœºåˆ¶ï¼Œå®ƒå¹¶ *ä¸* éµå¾ªè¿™ç§æ¨¡å¼ï¼š é€‰é¡¹ *åªèƒ½* åœ¨å±€éƒ¨è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬çš„èŒƒå›´æ€»æ˜¯é™åˆ¶åœ¨å½“å‰å°èŠ‚æˆ–å½“å‰æ–‡ä»¶ä¸­ã€‚

åœ¨ [éšå‚æ•°](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/DependentTypeTheory/#implicit-arguments) ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œå¦‚æœ Lean å°†æœ¯è¯­ `t` çš„ç±»å‹æ˜¾ç¤ºä¸º `{x:Î±}â†’Î²x` ï¼Œ é‚£ä¹ˆå¤§æ‹¬å·è¡¨ç¤º `x` è¢«æ ‡è®°ä¸º `t` çš„ *éšå‚æ•°* ã€‚è¿™æ„å‘³ç€æ¯å½“ä½ å†™ `t` æ—¶ï¼Œå°±ä¼šæ’å…¥ä¸€ä¸ªå ä½ç¬¦ï¼Œ æˆ–è€…è¯´â€œæ´â€ï¼Œè¿™æ · `t` å°±ä¼šè¢« `@t_` å–ä»£ã€‚å¦‚æœä½ ä¸å¸Œæœ›è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œä½ å¿…é¡»å†™ `@t` æ¥ä»£æ›¿ã€‚

è¯·æ³¨æ„ï¼Œéšå‚æ•°æ˜¯æ€¥äºæ’å…¥çš„ã€‚å‡è®¾æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•° `f : (x:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))â†’{y:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")}â†’(z:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")` ã€‚ é‚£ä¹ˆï¼Œå½“æˆ‘ä»¬å†™è¡¨è¾¾å¼ `f7` æ—¶ï¼Œæ²¡æœ‰è¿›ä¸€æ­¥çš„å‚æ•°ï¼Œå®ƒä¼šè¢«è§£æä¸º `@f7_` ã€‚

Lean æä¾›äº†ä¸€ä¸ªè¾ƒå¼±çš„æ³¨é‡Šï¼Œå®ƒæŒ‡å®šäº†ä¸€ä¸ªå ä½ç¬¦åªåº”åœ¨åä¸€ä¸ªæ˜¾å¼å‚æ•° *ä¹‹å‰* æ·»åŠ ã€‚ è¿™ä¸ªæ³¨é‡Šå¯ä»¥ç”¨åŒå¤§æ‹¬å·å†™ï¼Œæ‰€ä»¥ `f` çš„ç±»å‹æ˜¯ `f : (x:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))â†’{{y:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")}}â†’(z:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")` ã€‚ æœ‰äº†è¿™ä¸ªæ³¨é‡Šï¼Œè¡¨è¾¾å¼ `f7` å°†è¢«è§£æä¸ºåŸæ ·ï¼Œè€Œ `f73` å°†è¢«è§£æä¸º `@f7_3` ï¼Œå°±åƒä½¿ç”¨å¼ºæ³¨é‡Šä¸€æ ·ã€‚ è¿™ä¸ªæ³¨é‡Šä¹Ÿå¯ä»¥å†™æˆ `â¦ƒy : Natâ¦„` ï¼Œå…¶ä¸­çš„ Unicode æ‹¬å·è¾“å…¥æ–¹å¼ä¸º `\{{` å’Œ `\}}` ã€‚

ä¸ºäº†è¯´æ˜è¿™ç§åŒºåˆ«ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œå®ƒè¡¨æ˜ä¸€ä¸ªè‡ªåçš„æ¬§å‡ é‡Œå¾—å…³ç³»æ—¢æ˜¯å¯¹ç§°çš„åˆæ˜¯ä¼ é€’çš„ã€‚

`defreflexive{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€(a:Î±),raa` `defsymmetric{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€{ab:Î±},rabâ†’rba` `deftransitive{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€{abc:Î±},rabâ†’rbcâ†’rac` `defEuclidean{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€{abc:Î±},rabâ†’racâ†’rbc` `theoremth1{Î±:Typeu}{r:Î±â†’Î±â†’Prop}(reflr:reflexiver)(euclr:Euclideanr):symmetricr:=fun{ab:Î±}=>fun(h:rab)=>showrbafromeuclrh(reflr_)` `theoremth2{Î±:Typeu}{r:Î±â†’Î±â†’Prop}(symmr:symmetricr)(euclr:Euclideanr):transitiver:=fun{abc:Î±}=>fun(rab:rab)(rbc:rbc)=>euclr(symmrrab)rbc` `theoremth3{Î±:Typeu}{r:Î±â†’Î±â†’Prop}(reflr:reflexiver)(euclr:Euclideanr):transitiver:=th2(th1reflr@euclr)@euclr` `[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference")(r:Î±â†’Î±â†’Prop)` `[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference")(euclr:Euclideanr)` `` `euclr : r?m.3?m.4â†’r?m.3?m.5â†’r?m.4?m.5`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")euclr ``
```
euclr : r ?m.3 ?m.4 â†’ r ?m.3 ?m.5 â†’ r ?m.4 ?m.5
```

è¿™äº›ç»“æœè¢«åˆ†è§£æˆå‡ ä¸ªå°æ­¥éª¤ï¼š `th1` è¡¨æ˜è‡ªåå’Œæ¬§æ°çš„å…³ç³»æ˜¯å¯¹ç§°çš„ï¼Œ `th2` è¡¨æ˜å¯¹ç§°å’Œæ¬§æ°çš„å…³ç³»æ˜¯ä¼ é€’çš„ã€‚ ç„¶å `th3` ç»“åˆè¿™ä¸¤ä¸ªç»“æœã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨ç¦ç”¨ `euclr` ä¸­çš„éšå‚æ•°ï¼Œ å¦åˆ™ä¼šæ’å…¥å¤ªå¤šçš„éšå‚æ•°ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨å¼±éšå¼å‚æ•°ï¼Œè¿™ä¸ªé—®é¢˜å°±ä¼šæ¶ˆå¤±ï¼š

`defreflexive{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€(a:Î±),raa` `defsymmetric{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€{{ab:Î±}},rabâ†’rba` `deftransitive{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€{{abc:Î±}},rabâ†’rbcâ†’rac` `defEuclidean{Î±:Typeu}(r:Î±â†’Î±â†’Prop):Prop:=âˆ€{{abc:Î±}},rabâ†’racâ†’rbc` `theoremth1{Î±:Typeu}{r:Î±â†’Î±â†’Prop}(reflr:reflexiver)(euclr:Euclideanr):symmetricr:=fun{ab:Î±}=>fun(h:rab)=>showrbafromeuclrh(reflr_)` `theoremth2{Î±:Typeu}{r:Î±â†’Î±â†’Prop}(symmr:symmetricr)(euclr:Euclideanr):transitiver:=fun{abc:Î±}=>fun(rab:rab)(rbc:rbc)=>euclr(symmrrab)rbc` `theoremth3{Î±:Typeu}{r:Î±â†’Î±â†’Prop}(reflr:reflexiver)(euclr:Euclideanr):transitiver:=th2(th1reflreuclr)euclr` `[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference")(r:Î±â†’Î±â†’Prop)` `[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference")(euclr:Euclideanr)` `` `euclr : Euclideanr`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")euclr ``
```
euclr : Euclidean r
```

è¿˜æœ‰ç¬¬ä¸‰ç§éšå¼å‚æ•°ï¼Œç”¨æ–¹æ‹¬å·è¡¨ç¤ºï¼Œ `[` å’Œ `]` ã€‚è¿™äº›æ˜¯ç”¨äºç±»å‹ç±»çš„ï¼Œåœ¨ [ç±»å‹ç±»](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/TypeClasses/#type-classes) ä¸€ç« ä¸­è§£é‡Šã€‚

## 6.7. ç¬¦å·ğŸ”—

Lean ä¸­çš„æ ‡è¯†ç¬¦å¯ä»¥åŒ…å«ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦ï¼ŒåŒ…æ‹¬å¸Œè…Šå­—ç¬¦ï¼ˆé™¤äº† âˆ€ã€Î£ å’Œ Î»ï¼Œæ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼Œå®ƒä»¬åœ¨ä¾å€¼ç±»å‹è®ºä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼‰ã€‚ å®ƒä»¬è¿˜å¯ä»¥åŒ…å«ä¸‹æ ‡ï¼Œå¯ä»¥é€šè¿‡é”®å…¥ `\_` åè·Ÿæ‰€éœ€çš„ä¸‹æ ‡å­—ç¬¦æ¥è¾“å…¥ã€‚

Lean çš„è§£æå™¨æ˜¯å¯æ‰©å±•çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰æ–°çš„ç¬¦å·ã€‚

Lean çš„è¯­æ³•å¯ä»¥ç”±ç”¨æˆ·åœ¨å„ä¸ªå±‚é¢ä¸Šè¿›è¡Œæ‰©å±•å’Œè‡ªå®šä¹‰ï¼Œä»åŸºæœ¬çš„â€œæ··åˆï¼ˆmixfixï¼‰â€ç¬¦å·åˆ°è‡ªå®šä¹‰é˜è¿°å™¨ã€‚ äº‹å®ä¸Šï¼Œæ‰€æœ‰å†…ç½®è¯­æ³•éƒ½æ˜¯ä½¿ç”¨å‘ç”¨æˆ·å¼€æ”¾çš„ç›¸åŒæœºåˆ¶å’Œ API è¿›è¡Œè§£æå’Œå¤„ç†çš„ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æè¿°å’Œè§£é‡Šå„ç§æ‰©å±•ç‚¹ã€‚

è™½ç„¶å¼•å…¥æ–°ç¬¦å·åœ¨ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯ä¸€ä¸ªç›¸å¯¹ç½•è§çš„åŠŸèƒ½ï¼Œæœ‰æ—¶ç”šè‡³å› ä¸ºå¯èƒ½ä½¿ä»£ç å˜å¾—æ™¦æ¶©éš¾æ‡‚è€Œä¸è¢«çœ‹å¥½ï¼Œ ä½†åœ¨å½¢å¼åŒ–ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ— ä»·çš„å·¥å…·ï¼Œå¯ä»¥ç®€æ´åœ°åœ¨ä»£ç ä¸­è¡¨è¾¾ç›¸å…³é¢†åŸŸæ—¢å®šçš„çº¦å®šå’Œç¬¦å·ã€‚ é™¤äº†åŸºæœ¬ç¬¦å·ä¹‹å¤–ï¼ŒLean èƒ½å¤Ÿå°†å¸¸è§çš„æ ·æ¿ä»£ç åˆ†è§£ä¸ºï¼ˆè¡Œä¸ºè‰¯å¥½çš„ï¼‰å®ï¼Œå¹¶åµŒå…¥æ•´ä¸ªè‡ªå®šä¹‰é¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰ï¼Œ ä»¥é«˜æ•ˆä¸”å¯è¯»åœ°å¯¹å­é—®é¢˜è¿›è¡Œæ–‡æœ¬ç¼–ç ï¼Œè¿™å¯¹ç¨‹åºå‘˜å’Œè¯æ˜å·¥ç¨‹å¸ˆéƒ½å¤§æœ‰è£¨ç›Šã€‚

### 6.7.1. ç¬¦å·å’Œä¼˜å…ˆçº§ğŸ”—

æœ€åŸºæœ¬çš„è¯­æ³•æ‰©å±•å‘½ä»¤å…è®¸å¼•å…¥æ–°çš„ï¼ˆæˆ–é‡è½½ç°æœ‰çš„ï¼‰å‰ç¼€ã€ä¸­ç¼€å’Œåç¼€è¿ç®—ç¬¦ã€‚

`infixl:65" + "=>[HAdd.hAdd](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")  -- left-associative ` `infix:50" = "=>[Eq](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")         -- non-associative ` `infixr:80" ^ "=>[HPow.hPow](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HPow___mk "Documentation for HPow.hPow in Lean Language Reference")  -- right-associative ` `prefix:100"-"=>[Neg.neg](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#Neg___mk "Documentation for Neg.neg in Lean Language Reference")` `postfix:[max](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Precedence/#precMax "Documentation for syntax in Lean Language Reference")"â»Â¹"=>Inv.inv`

åœ¨æè¿°è¿ç®—ç¬¦ç§ç±»ï¼ˆå…¶â€œ å›ºå®šæ€§ â€ï¼‰çš„åˆå§‹å‘½ä»¤åç§°ä¹‹åï¼Œæˆ‘ä»¬ç»™å‡ºè¿ç®—ç¬¦çš„ *è§£æä¼˜å…ˆçº§* ï¼Œ å‰é¢åŠ å†’å· `:`ï¼Œç„¶åæ˜¯ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„æ–°æ ‡è®°æˆ–ç°æœ‰æ ‡è®°ï¼ˆç©ºæ ¼ç”¨äºæ¼‚äº®æ‰“å°ï¼‰ï¼Œ ç„¶åæ˜¯ç®­å¤´ `=>` ä¹‹åè¯¥è¿ç®—ç¬¦åº”è½¬æ¢ä¸ºçš„å‡½æ•°ã€‚

ä¼˜å…ˆçº§æ˜¯ä¸€ä¸ªè‡ªç„¶æ•°ï¼Œæè¿°è¿ç®—ç¬¦ä¸å…¶å‚æ•°ç»‘å®šçš„â€œç´§å¯†â€ç¨‹åº¦ï¼Œç¼–ç è¿ç®—é¡ºåºã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹ä¸Šé¢å±•å¼€çš„å‘½ä»¤æ¥æ›´ç²¾ç¡®åœ°è¯´æ˜è¿™ä¸€ç‚¹ï¼š

`[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):65lhs:65" + "rhs:66=>[HAdd.hAdd](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")lhsrhs` `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):50lhs:51" = "rhs:51=>[Eq](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")lhsrhs` `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):80lhs:81" ^ "rhs:80=>[HPow.hPow](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HPow___mk "Documentation for HPow.hPow in Lean Language Reference")lhsrhs` `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):100"-"arg:100=>[Neg.neg](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#Neg___mk "Documentation for Neg.neg in Lean Language Reference")arg` `` -- `max` is a shorthand for precedence 1024: [notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):1024arg:1024"â»Â¹"=>Inv.invarg``

äº‹å®è¯æ˜ï¼Œç¬¬ä¸€ä¸ªä»£ç å—ä¸­çš„æ‰€æœ‰å‘½ä»¤å®é™…ä¸Šéƒ½æ˜¯å‘½ä»¤ *å®* ï¼Œå®ƒä»¬è½¬æ¢ä¸ºæ›´é€šç”¨çš„ `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference")` å‘½ä»¤ã€‚ æˆ‘ä»¬å°†åœ¨ä¸‹é¢å­¦ä¹ ç¼–å†™æ­¤ç±»å®ã€‚ `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference")` å‘½ä»¤ä¸æ¥å—å•ä¸ªæ ‡è®°ï¼Œè€Œæ˜¯æ¥å—æ ‡è®°å’Œå…·æœ‰ä¼˜å…ˆçº§çš„å‘½åé¡¹å ä½ç¬¦çš„æ··åˆåºåˆ—ï¼Œ è¿™äº›å ä½ç¬¦å¯ä»¥åœ¨ `=>` çš„å³ä¾§å¼•ç”¨ï¼Œå¹¶å°†è¢«åœ¨è¯¥ä½ç½®è§£æçš„ç›¸åº”é¡¹æ›¿æ¢ã€‚ä¼˜å…ˆçº§ä¸º `p` çš„å ä½ç¬¦åœ¨è¯¥ä½ç½®ä»…æ¥å—ä¼˜å…ˆçº§è‡³å°‘ä¸º `p` çš„ç¬¦å·ã€‚ å› æ­¤ï¼Œå­—ç¬¦ä¸² `a+b+c` ä¸èƒ½è§£æä¸ºç­‰åŒäº `a+(b+c)` ï¼Œå› ä¸º `infixl` ç¬¦å·çš„å³ä¾§æ“ä½œæ•°çš„ä¼˜å…ˆçº§æ¯”ç¬¦å·æœ¬èº«å¤§ 1ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œ `infixr` å¯¹å³ä¾§æ“ä½œæ•°é‡ç”¨ç¬¦å·çš„ä¼˜å…ˆçº§ï¼Œå› æ­¤ `a^b^c` *å¯ä»¥* è§£æä¸º `a^(b^c)` ã€‚ è¯·æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference")` å¼•å…¥ä¸­ç¼€ç¬¦å·ï¼Œä¾‹å¦‚

`[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):65lhs:65" ~ "rhs:65=>wobblelhsrhs`

å…¶ä¸­ä¼˜å…ˆçº§ä¸è¶³ä»¥ç¡®å®šç»“åˆæ€§ï¼ŒLean çš„è§£æå™¨å°†é»˜è®¤ä¸ºå³ç»“åˆã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œ åœ¨å­˜åœ¨æ­§ä¹‰è¯­æ³•çš„æƒ…å†µä¸‹ï¼ŒLean çš„è§£æå™¨éµå¾ªå±€éƒ¨ *æœ€é•¿è§£æ* è§„åˆ™ï¼šå½“è§£æ `a~b~c` ä¸­çš„ `a ~` çš„å³ä¾§æ—¶ï¼Œ å®ƒå°†å°½å¯èƒ½é•¿æ—¶é—´åœ°ç»§ç»­è§£æï¼ˆåªè¦å½“å‰ä¼˜å…ˆçº§å…è®¸ï¼‰ï¼Œä¸ä¼šåœ¨ `b` ä¹‹ååœæ­¢ï¼Œè€Œæ˜¯ä¹Ÿä¼šè§£æ `~c` ã€‚ å› æ­¤ï¼Œè¯¥é¡¹ç­‰åŒäº `a~(b~c)` ã€‚

å¦‚ä¸Šæ‰€è¿°ï¼Œ `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference")` å‘½ä»¤å…è®¸æˆ‘ä»¬å®šä¹‰ä»»æ„ *æ··åˆ* è¯­æ³•ï¼Œè‡ªç”±æ··åˆæ ‡è®°å’Œå ä½ç¬¦ã€‚

`[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):[max](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Precedence/#precMax "Documentation for syntax in Lean Language Reference")"("e")"=>e` `[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):10Î“" âŠ¢ "e" : "Ï„=>TypingÎ“eÏ„`

æ²¡æœ‰ä¼˜å…ˆçº§çš„å ä½ç¬¦é»˜è®¤ä¸º `0` ï¼Œå³å®ƒä»¬åœ¨å…¶ä½ç½®æ¥å—ä»»ä½•ä¼˜å…ˆçº§çš„ç¬¦å·ã€‚ å¦‚æœä¸¤ä¸ªç¬¦å·é‡å ï¼Œæˆ‘ä»¬å†æ¬¡åº”ç”¨æœ€é•¿è§£æè§„åˆ™ï¼š

`[notation](https://lean-lang.org/doc/reference/4.26.0/Notations-and-Macros/Notations/#Lean___Parser___Command___notation "Documentation for syntax in Lean Language Reference"):65a" + "b:66" + "c:66=>a+b-c` `` `0`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")1+2+3 ``
```
0
```

æ–°ç¬¦å·ä¼˜äºäºŒå…ƒç¬¦å·ï¼Œå› ä¸ºåè€…åœ¨é“¾æ¥ä¹‹å‰ä¼šåœ¨ `1+2` ä¹‹ååœæ­¢è§£æã€‚ å¦‚æœæœ‰å¤šä¸ªç¬¦å·æ¥å—ç›¸åŒçš„æœ€é•¿è§£æï¼Œåˆ™é€‰æ‹©å°†æ¨è¿Ÿåˆ°é˜è¿°é˜¶æ®µï¼Œé™¤éæ°å¥½æœ‰ä¸€ä¸ªé‡è½½æ˜¯ç±»å‹æ­£ç¡®çš„ï¼Œå¦åˆ™é˜è¿°å°†å¤±è´¥ã€‚

## 6.8. å¼ºåˆ¶è½¬æ¢ğŸ”—

åœ¨ Lean ä¸­ï¼Œè‡ªç„¶æ•°çš„ç±»å‹ `[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")` ï¼Œä¸æ•´æ•°çš„ç±»å‹ `[Int](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Integers/#Int___ofNat "Documentation for Int in Lean Language Reference")` ä¸åŒã€‚ ä½†æ˜¯æœ‰ä¸€ä¸ªå‡½æ•° `[Int.ofNat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Integers/#Int___ofNat "Documentation for Int.ofNat in Lean Language Reference")` å°†è‡ªç„¶æ•°åµŒå…¥æ•´æ•°ä¸­ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦æ—¶å°†ä»»ä½•è‡ªç„¶æ•°è§†ä¸ºæ•´æ•°ã€‚ Lean æœ‰æœºåˆ¶æ¥æ£€æµ‹å’Œæ’å…¥è¿™ç§ *å¼ºåˆ¶è½¬æ¢* ã€‚å¯ä»¥ä½¿ç”¨é‡è½½çš„ `â†‘` è¿ç®—ç¬¦æ˜¾å¼è¯·æ±‚å¼ºåˆ¶è½¬æ¢ã€‚

`[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference")(mn:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))` `[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference")(ij:[Int](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Integers/#Int___ofNat "Documentation for Int in Lean Language Reference"))` `` `i[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")â†‘m : [Int](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Integers/#Int___ofNat "Documentation for Int in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")i+m ``
```
i + â†‘m : Int
```
`` `i[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")â†‘m[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")j : [Int](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Integers/#Int___ofNat "Documentation for Int in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")i+m+j ``
```
i + â†‘m + j : Int
```
`` `i[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")â†‘m[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")â†‘n : [Int](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Integers/#Int___ofNat "Documentation for Int in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")i+m+n ``
```
i + â†‘m + â†‘n : Int
```

## 6.9. æ˜¾ç¤ºä¿¡æ¯ğŸ”—

æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è®©ä½ æŸ¥è¯¢ Lean çš„å½“å‰çŠ¶æ€ä»¥åŠå½“å‰ä¸Šä¸‹æ–‡ä¸­å¯ç”¨çš„å¯¹è±¡å’Œå®šç†çš„ä¿¡æ¯ã€‚ ä½ å·²ç»çœ‹åˆ°äº†ä¸¤ä¸ªæœ€å¸¸è§çš„æ–¹æ³•ï¼Œ `#check` å’Œ `#eval` ã€‚ è¯·è®°ä½ï¼Œ `#check` ç»å¸¸ä¸ `@` è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œå®ƒä½¿å®šç†æˆ–å®šä¹‰çš„æ‰€æœ‰å‚æ•°æ˜¾å¼åŒ–ã€‚ æ­¤å¤–ï¼Œä½ å¯ä»¥ä½¿ç”¨ `#print` å‘½ä»¤æ¥è·å¾—ä»»ä½•æ ‡è¯†ç¬¦çš„ä¿¡æ¯ã€‚ å¦‚æœæ ‡è¯†ç¬¦è¡¨ç¤ºä¸€ä¸ªå®šä¹‰æˆ–å®šç†ï¼ŒLean ä¼šæ‰“å°å‡ºç¬¦å·çš„ç±»å‹ï¼Œä»¥åŠå®ƒçš„å®šä¹‰ã€‚ å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå¸¸æ•°æˆ–å…¬ç†ï¼ŒLean ä¼šæŒ‡å‡ºå®ƒå¹¶æ˜¾ç¤ºå…¶ç±»å‹ã€‚

``-- examples with equality `[Eq.{u_1}](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference"){Î±:Sort u_1}:Î±â†’Î±â†’Prop`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[Eq](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")``
```
Eq.{u_1} {Î± : Sort u_1} : Î± â†’ Î± â†’ Prop
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")[Eq](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference") : {Î±:Sort u_1}â†’Î±â†’Î±â†’Prop`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Eq](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference") ``
```
@Eq : {Î± : Sort u_1} â†’ Î± â†’ Î± â†’ Prop
```
`` `[Eq.symm.{u}](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___symm "Documentation for Eq.symm in Lean Language Reference"){Î±:Sort u}{ab:Î±}(h:a[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")b):b[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")a`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[Eq.symm](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___symm "Documentation for Eq.symm in Lean Language Reference") ``
```
Eq.symm.{u} {Î± : Sort u} {a b : Î±} (h : a = b) : b = a
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___symm "Documentation for Eq.symm in Lean Language Reference")[Eq.symm](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___symm "Documentation for Eq.symm in Lean Language Reference") : âˆ€{Î±:Sort u_1}{ab:Î±},a[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")bâ†’b[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")a`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Eq.symm](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___symm "Documentation for Eq.symm in Lean Language Reference") ``
```
@Eq.symm : âˆ€ {Î± : Sort u_1} {a b : Î±}, a = b â†’ b = a
```
`` `theoremEq.symm.{u} : âˆ€{Î±:Sort u}{ab:Î±},a[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")bâ†’b[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")a :=fun{Î±}{ab}h=>hâ–¸[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")`#print[Eq.symm](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___symm "Documentation for Eq.symm in Lean Language Reference") ``
```
theorem Eq.symm.{u} : âˆ€ {Î± : Sort u} {a b : Î±}, a = b â†’ b = a :=
fun {Î±} {a b} h => h â–¸ rfl
```
``-- examples with And `[And](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")(ab:Prop):Prop`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[And](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")``
```
And (a b : Prop) : Prop
```
`` `[And.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference"){ab:Prop}(left:a)(right:b):a[âˆ§](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")b`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")[And.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference") ``
```
And.intro {a b : Prop} (left : a) (right : b) : a âˆ§ b
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference")[And.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference") : âˆ€{ab:Prop},aâ†’bâ†’a[âˆ§](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")b`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[And.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference") ``
```
@And.intro : âˆ€ {a b : Prop}, a â†’ b â†’ a âˆ§ b
```
`-- a user-defined function deffoo{Î±:Typeu}(x:Î±):Î±:=x` `` `foo.{u}{Î±:Type u}(x:Î±):Î±`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")foo ``
```
foo.{u} {Î± : Type u} (x : Î±) : Î±
```
`` `@foo : {Î±:Type u_1}â†’Î±â†’Î±`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@foo ``
```
@foo : {Î± : Type u_1} â†’ Î± â†’ Î±
```
`` `deffoo.{u} : {Î±:Type u}â†’Î±â†’Î± :=fun{Î±}x=>x`#printfoo ``
```
def foo.{u} : {Î± : Type u} â†’ Î± â†’ Î± :=
fun {Î±} x => x
```

## 6.10. è®¾ç½®é€‰é¡¹ğŸ”—

Lean ç»´æŠ¤ç€ä¸€äº›å†…éƒ¨å˜é‡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è®¾ç½®è¿™äº›å˜é‡æ¥æ§åˆ¶å…¶è¡Œä¸ºã€‚è¯­æ³•å¦‚ä¸‹ï¼š

`set_option` ` <name> <value>`

æœ‰ä¸€ç³»åˆ—éå¸¸æœ‰ç”¨çš„é€‰é¡¹å¯ä»¥æ§åˆ¶ Lean çš„ *ç¾è§‚æ‰“å°ï¼ˆpretty printerï¼‰* æ˜¾ç¤ºé¡¹çš„æ–¹å¼ã€‚ä¸‹åˆ—é€‰é¡¹çš„è¾“å…¥å€¼ä¸º true æˆ– falseï¼š

```
pp.explicit  : display implicit arguments
pp.universes : display hidden universe parameters
pp.notation  : display output using defined notations
```

ä¾‹å¦‚ï¼Œä»¥ä¸‹è®¾ç½®ä¼šäº§ç”Ÿæ›´é•¿çš„è¾“å‡ºï¼š

`set_optionpp.explicittrue` `set_optionpp.universestrue` `set_optionpp.notationfalse` `` `@[Eq.{1}](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(@[HAdd.hAdd.{0, 0, 0}](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(@instHAdd.{0}[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")instAddNat)(@[OfNat.ofNat.{0}](https://lean-lang.org/doc/reference/4.26.0/Terms/Numeric-Literals/#OfNat___mk "Documentation for OfNat.ofNat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(nat_lit 2)(instOfNatNat(nat_lit 2)))(@[OfNat.ofNat.{0}](https://lean-lang.org/doc/reference/4.26.0/Terms/Numeric-Literals/#OfNat___mk "Documentation for OfNat.ofNat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(nat_lit 2)(instOfNatNat(nat_lit 2))))(@[OfNat.ofNat.{0}](https://lean-lang.org/doc/reference/4.26.0/Terms/Numeric-Literals/#OfNat___mk "Documentation for OfNat.ofNat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(nat_lit 4)(instOfNatNat(nat_lit 4))) : Prop`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")2+2=4 ``
```
@Eq.{1} Nat
  (@HAdd.hAdd.{0, 0, 0} Nat Nat Nat (@instHAdd.{0} Nat instAddNat)
    (@OfNat.ofNat.{0} Nat (nat_lit 2) (instOfNatNat (nat_lit 2)))
    (@OfNat.ofNat.{0} Nat (nat_lit 2) (instOfNatNat (nat_lit 2))))
  (@OfNat.ofNat.{0} Nat (nat_lit 4) (instOfNatNat (nat_lit 4))) : Prop
```
`` `@[Eq.{1}](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")([Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))(funx=>@[HAdd.hAdd.{0, 0, 0}](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(@instHAdd.{0}[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")instAddNat)x(@[OfNat.ofNat.{0}](https://lean-lang.org/doc/reference/4.26.0/Terms/Numeric-Literals/#OfNat___mk "Documentation for OfNat.ofNat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(nat_lit 2)(instOfNatNat(nat_lit 2))))funx=>@[HAdd.hAdd.{0, 0, 0}](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(@instHAdd.{0}[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")instAddNat)x(@[OfNat.ofNat.{0}](https://lean-lang.org/doc/reference/4.26.0/Terms/Numeric-Literals/#OfNat___mk "Documentation for OfNat.ofNat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(nat_lit 3)(instOfNatNat(nat_lit 3)))`[#reduce](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___reduceCmd "Documentation for syntax in Lean Language Reference")(funx=>x+2)=(funx=>x+3) ``
```
@Eq.{1} (Nat â†’ Nat)
  (fun x =>
    @HAdd.hAdd.{0, 0, 0} Nat Nat Nat (@instHAdd.{0} Nat instAddNat) x
      (@OfNat.ofNat.{0} Nat (nat_lit 2) (instOfNatNat (nat_lit 2))))
  fun x =>
  @HAdd.hAdd.{0, 0, 0} Nat Nat Nat (@instHAdd.{0} Nat instAddNat) x
    (@OfNat.ofNat.{0} Nat (nat_lit 3) (instOfNatNat (nat_lit 3)))
```
`` `(funx=>@[HAdd.hAdd.{0, 0, 0}](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(@instHAdd.{0}[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")instAddNat)x(@[OfNat.ofNat.{0}](https://lean-lang.org/doc/reference/4.26.0/Terms/Numeric-Literals/#OfNat___mk "Documentation for OfNat.ofNat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(nat_lit 1)(instOfNatNat(nat_lit 1))))(@[OfNat.ofNat.{0}](https://lean-lang.org/doc/reference/4.26.0/Terms/Numeric-Literals/#OfNat___mk "Documentation for OfNat.ofNat in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")(nat_lit 1)(instOfNatNat(nat_lit 1))) : [Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")(funx=>x+1)1 ``
```
(fun x =>
    @HAdd.hAdd.{0, 0, 0} Nat Nat Nat (@instHAdd.{0} Nat instAddNat) x
      (@OfNat.ofNat.{0} Nat (nat_lit 1) (instOfNatNat (nat_lit 1))))
  (@OfNat.ofNat.{0} Nat (nat_lit 1) (instOfNatNat (nat_lit 1))) : Nat
```

å‘½ä»¤ `set_optionpp.alltrue` ä¸€æ¬¡æ€§æ‰§è¡Œè¿™äº›è®¾ç½®ï¼Œ è€Œ `set_optionpp.allfalse` åˆ™æ¢å¤åˆ°ä¹‹å‰çš„å€¼ã€‚ å½“ä½ è°ƒè¯•ä¸€ä¸ªè¯æ˜ï¼Œæˆ–è¯•å›¾ç†è§£ä¸€ä¸ªç¥ç§˜çš„é”™è¯¯ä¿¡æ¯æ—¶ï¼Œç¾è§‚æ‰“å°é¢å¤–çš„ä¿¡æ¯å¾€å¾€æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ ä¸è¿‡å¤ªå¤šçš„ä¿¡æ¯å¯èƒ½ä¼šè®©äººä¸çŸ¥æ‰€æªï¼ŒLean çš„é»˜è®¤å€¼ä¸€èˆ¬æ¥è¯´å¯¹æ™®é€šçš„äº¤äº’æ˜¯è¶³å¤Ÿçš„ã€‚

## 6.11. ä½¿ç”¨åº“ğŸ”—

ä¸ºäº†æœ‰æ•ˆåœ°ä½¿ç”¨ Leanï¼Œä½ å°†ä¸å¯é¿å…åœ°éœ€è¦ä½¿ç”¨åº“ä¸­çš„å®šä¹‰å’Œå®šç†ã€‚ å›æƒ³ä¸€ä¸‹ï¼Œæ–‡ä»¶å¼€å¤´çš„ `import` å‘½ä»¤ä¼šä»å…¶ä»–æ–‡ä»¶ä¸­å¯¼å…¥ä¹‹å‰ç¼–è¯‘çš„ç»“æœï¼Œè€Œä¸”å¯¼å…¥æ˜¯ä¼ é€’çš„ï¼› å¦‚æœä½ å¯¼å…¥äº† `Foo` ï¼Œ `Foo` åˆå¯¼å…¥äº† `Bar` ï¼Œé‚£ä¹ˆ `Bar` çš„å®šä¹‰å’Œå®šç†ä¹Ÿå¯ä»¥è¢«ä½ åˆ©ç”¨ã€‚ ä½†æ˜¯æ‰“å¼€ä¸€ä¸ªå‘½åç©ºé—´çš„è¡Œä¸ºï¼Œæä¾›äº†æ›´çŸ­çš„åå­—ï¼Œå¹¶æ²¡æœ‰å»¶ç»­ä¸‹å»ã€‚åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­ï¼Œä½ éœ€è¦æ‰“å¼€ä½ æƒ³ä½¿ç”¨çš„å‘½åç©ºé—´ã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œä½ å¿…é¡»ç†Ÿæ‚‰åº“å’Œå®ƒçš„å†…å®¹ï¼Œè¿™æ ·ä½ å°±çŸ¥é“æœ‰å“ªäº›å®šç†ã€å®šä¹‰ã€ç¬¦å·å’Œèµ„æºå¯ä¾›ä½ ä½¿ç”¨ã€‚ ä¸‹é¢æˆ‘ä»¬å°†çœ‹åˆ° Lean çš„ç¼–è¾‘å™¨æ¨¡å¼ä¹Ÿå¯ä»¥å¸®åŠ©ä½ æ‰¾åˆ°ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œä½†ç›´æ¥ç ”ç©¶åº“çš„å†…å®¹å¾€å¾€æ˜¯ä¸å¯é¿å…çš„ã€‚ Lean çš„æ ‡å‡†åº“åœ¨ GitHub ä¸Šï¼š

- [https://github.com/leanprover/lean4/tree/master/src/Init](https://github.com/leanprover/lean4/tree/master/src/Init)
- [https://github.com/leanprover/lean4/tree/master/src/Std](https://github.com/leanprover/lean4/tree/master/src/Std)

ä½ å¯ä»¥ä½¿ç”¨ GitHub çš„æµè§ˆå™¨ç•Œé¢æŸ¥çœ‹è¿™äº›ç›®å½•å’Œæ–‡ä»¶çš„å†…å®¹ã€‚å¦‚æœä½ åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå®‰è£…äº† Leanï¼Œ ä½ å¯ä»¥åœ¨ `lean` æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°è¿™ä¸ªåº“ï¼Œç”¨ä½ çš„æ–‡ä»¶ç®¡ç†å™¨æ¢ç´¢å®ƒã€‚æ¯ä¸ªæ–‡ä»¶é¡¶éƒ¨çš„æ³¨é‡Šæ ‡é¢˜æä¾›äº†é¢å¤–çš„ä¿¡æ¯ã€‚

Lean åº“çš„å¼€å‘è€…éµå¾ªä¸€èˆ¬çš„å‘½åå‡†åˆ™ï¼Œä»¥ä¾¿äºçŒœæµ‹ä½ æ‰€éœ€è¦çš„å®šç†çš„åç§°ï¼Œ æˆ–è€…åœ¨æ”¯æŒ Lean æ¨¡å¼çš„ç¼–è¾‘å™¨ä¸­ç”¨ Tab è‡ªåŠ¨è¡¥å…¨æ¥æ‰¾åˆ°å®ƒï¼Œè¿™å°†åœ¨ä¸‹ä¸€èŠ‚è®¨è®ºã€‚ æ ‡è¯†ç¬¦ä¸€èˆ¬æ˜¯ `camelCase` ï¼Œè€Œç±»å‹æ˜¯ `CamelCase` ã€‚ å¯¹äºå®šç†çš„åç§°ï¼Œæˆ‘ä»¬ä¾é æè¿°æ€§çš„åç§°ï¼Œå…¶ä¸­ä¸åŒçš„ç»„æˆéƒ¨åˆ†ç”¨ `_` åˆ†å¼€ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šç†çš„åç§°åªæ˜¯æè¿°ç»“è®ºï¼š

`` `Nat.succ_ne_zero(n:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):n.[succ](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat.succ in Lean Language Reference")â‰ 0`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")Nat.succ_ne_zero ``
```
Nat.succ_ne_zero (n : Nat) : n.succ â‰  0
```
`` `Nat.zero_add(n:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):0[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")n[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")n`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")Nat.zero_add ``
```
Nat.zero_add (n : Nat) : 0 + n = n
```
`` `Nat.mul_one(n:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):n[*](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HMul___mk "Documentation for HMul.hMul in Lean Language Reference")1[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")n`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")Nat.mul_one ``
```
Nat.mul_one (n : Nat) : n * 1 = n
```
`` `Nat.le_of_succ_le_succ{nm:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")}:n.[succ](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat.succ in Lean Language Reference")[â‰¤](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#LE___mk "Documentation for LE.le in Lean Language Reference")m.[succ](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat.succ in Lean Language Reference")â†’n[â‰¤](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#LE___mk "Documentation for LE.le in Lean Language Reference")m`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")Nat.le_of_succ_le_succ ``
```
Nat.le_of_succ_le_succ {n m : Nat} : n.succ â‰¤ m.succ â†’ n â‰¤ m
```

è¯·è®°ä½ï¼ŒLean ä¸­çš„æ ‡è¯†ç¬¦å¯ä»¥ç»„ç»‡æˆå±‚æ¬¡åŒ–çš„å‘½åç©ºé—´ã€‚ ä¾‹å¦‚ï¼Œå‘½åç©ºé—´ `Nat` ä¸­åä¸º `le_of_succ_le_succ` çš„å®šç†çš„å…¨åæ˜¯ `Nat.le_of_succ_le_succ` ï¼Œ ä½†æ˜¯é€šè¿‡å‘½ä»¤ `open` ` Nat` å¯ä»¥ä½¿ç”¨æ›´çŸ­çš„åç§°ï¼ˆå¯¹äºæœªæ ‡è®°ä¸º `protected` çš„åç§°ï¼‰ã€‚ æˆ‘ä»¬å°†åœ¨ [å½’çº³ç±»å‹](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InductiveTypes/#inductive-types) å’Œ [ç»“æ„ä½“å’Œè®°å½•](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/StructuresAndRecords/#structures-and-records) ç« èŠ‚ä¸­çœ‹åˆ°ï¼Œ åœ¨ Lean ä¸­å®šä¹‰ç»“æ„ä½“å’Œå½’çº³æ•°æ®ç±»å‹ä¼šç”Ÿæˆç›¸å…³çš„æ“ä½œï¼Œè¿™äº›æ“ä½œå­˜å‚¨åœ¨ä¸å®šä¹‰ç±»å‹åŒåçš„å‘½åç©ºé—´ä¸­ã€‚ ä¾‹å¦‚ï¼Œä¹˜ç§¯ç±»å‹å¸¦æœ‰ä»¥ä¸‹æ“ä½œï¼š

`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference")[Prod.mk](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference") : {Î±:Type u_1}â†’{Î²:Type u_2}â†’Î±â†’Î²â†’Î±[Ã—](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod in Lean Language Reference")Î²`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Prod.mk](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference") ``
```
@Prod.mk : {Î± : Type u_1} â†’ {Î² : Type u_2} â†’ Î± â†’ Î² â†’ Î± Ã— Î²
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.fst in Lean Language Reference")[Prod.fst](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.fst in Lean Language Reference") : {Î±:Type u_1}â†’{Î²:Type u_2}â†’Î±[Ã—](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod in Lean Language Reference")Î²â†’Î±`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Prod.fst](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.fst in Lean Language Reference") ``
```
@Prod.fst : {Î± : Type u_1} â†’ {Î² : Type u_2} â†’ Î± Ã— Î² â†’ Î±
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.snd in Lean Language Reference")[Prod.snd](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.snd in Lean Language Reference") : {Î±:Type u_1}â†’{Î²:Type u_2}â†’Î±[Ã—](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod in Lean Language Reference")Î²â†’Î²`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Prod.snd](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.snd in Lean Language Reference") ``
```
@Prod.snd : {Î± : Type u_1} â†’ {Î² : Type u_2} â†’ Î± Ã— Î² â†’ Î²
```
`` `@Prod.rec : {Î±:Type u_2}â†’{Î²:Type u_3}â†’{motive:Î±[Ã—](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod in Lean Language Reference")Î²â†’Sort u_1}â†’((fst:Î±)â†’(snd:Î²)â†’motive[(](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference")fst[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference")snd[)](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference"))â†’(t:Î±[Ã—](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod in Lean Language Reference")Î²)â†’motivet`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@Prod.rec ``
```
@Prod.rec : {Î± : Type u_2} â†’
  {Î² : Type u_3} â†’ {motive : Î± Ã— Î² â†’ Sort u_1} â†’ ((fst : Î±) â†’ (snd : Î²) â†’ motive (fst, snd)) â†’ (t : Î± Ã— Î²) â†’ motive t
```

ç¬¬ä¸€ä¸ªç”¨äºæ„é€ å¯¹ï¼Œè€Œæ¥ä¸‹æ¥çš„ä¸¤ä¸ª `[Prod.fst](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.fst in Lean Language Reference")` å’Œ `[Prod.snd](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.snd in Lean Language Reference")` æŠ•å½±è¿™ä¸¤ä¸ªå…ƒç´ ã€‚ æœ€åä¸€ä¸ª `Prod.rec` æä¾›äº†å¦ä¸€ç§æœºåˆ¶ï¼Œç”¨äºæ ¹æ®ä¸¤ä¸ªåˆ†é‡ä¸Šçš„å‡½æ•°å®šä¹‰ä¹˜ç§¯ä¸Šçš„å‡½æ•°ã€‚ åƒ `Prod.rec` è¿™æ ·çš„åç§°æ˜¯ *å—ä¿æŠ¤çš„ï¼ˆprotectedï¼‰* ï¼Œè¿™æ„å‘³ç€å³ä½¿æ‰“å¼€äº† `Prod` å‘½åç©ºé—´ï¼Œä¹Ÿå¿…é¡»ä½¿ç”¨å…¨åã€‚

æ ¹æ®å‘½é¢˜å³ç±»å‹å¯¹åº”å…³ç³»ï¼Œé€»è¾‘è¿æ¥è¯ä¹Ÿæ˜¯å½’çº³ç±»å‹çš„å®ä¾‹ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå€¾å‘äºå¯¹å®ƒä»¬ä½¿ç”¨ç‚¹ç¬¦å·ï¼š

`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference")[And.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference") : âˆ€{ab:Prop},aâ†’bâ†’a[âˆ§](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")b`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[And.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.intro in Lean Language Reference") ``
```
@And.intro : âˆ€ {a b : Prop}, a â†’ b â†’ a âˆ§ b
```
`` `@And.casesOn : {ab:Prop}â†’{motive:a[âˆ§](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")bâ†’Sort u_1}â†’(t:a[âˆ§](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")b)â†’((left:a)â†’(right:b)â†’motiveâ‹¯)â†’motivet`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@And.casesOn ``
```
@And.casesOn : {a b : Prop} â†’
  {motive : a âˆ§ b â†’ Sort u_1} â†’ (t : a âˆ§ b) â†’ ((left : a) â†’ (right : b) â†’ motive â‹¯) â†’ motive t
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.left in Lean Language Reference")[And.left](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.left in Lean Language Reference") : âˆ€{ab:Prop},a[âˆ§](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")bâ†’a`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[And.left](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.left in Lean Language Reference") ``
```
@And.left : âˆ€ {a b : Prop}, a âˆ§ b â†’ a
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.right in Lean Language Reference")[And.right](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.right in Lean Language Reference") : âˆ€{ab:Prop},a[âˆ§](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And in Lean Language Reference")bâ†’b`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[And.right](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#And___intro "Documentation for And.right in Lean Language Reference") ``
```
@And.right : âˆ€ {a b : Prop}, a âˆ§ b â†’ b
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or.inl in Lean Language Reference")[Or.inl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or.inl in Lean Language Reference") : âˆ€{ab:Prop},aâ†’a[âˆ¨](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or in Lean Language Reference")b`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Or.inl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or.inl in Lean Language Reference") ``
```
@Or.inl : âˆ€ {a b : Prop}, a â†’ a âˆ¨ b
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or.inr in Lean Language Reference")[Or.inr](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or.inr in Lean Language Reference") : âˆ€{ab:Prop},bâ†’a[âˆ¨](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or in Lean Language Reference")b`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Or.inr](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or.inr in Lean Language Reference") ``
```
@Or.inr : âˆ€ {a b : Prop}, b â†’ a âˆ¨ b
```
`` `@Or.elim : âˆ€{abc:Prop},a[âˆ¨](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Logical-Connectives/#Or___inl "Documentation for Or in Lean Language Reference")bâ†’(aâ†’c)â†’(bâ†’c)â†’c`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@Or.elim ``
```
@Or.elim : âˆ€ {a b c : Prop}, a âˆ¨ b â†’ (a â†’ c) â†’ (b â†’ c) â†’ c
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists.intro in Lean Language Reference")[Exists.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists.intro in Lean Language Reference") : âˆ€{Î±:Sort u_1}{p:Î±â†’Prop}(w:Î±),pwâ†’[Exists](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists in Lean Language Reference")p`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Exists.intro](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists.intro in Lean Language Reference") ``
```
@Exists.intro : âˆ€ {Î± : Sort u_1} {p : Î± â†’ Prop} (w : Î±), p w â†’ Exists p
```
`` `@Exists.elim : âˆ€{Î±:Sort u_1}{p:Î±â†’Prop}{b:Prop},[(](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists in Lean Language Reference")[âˆƒ](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists in Lean Language Reference")x[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists in Lean Language Reference")px[)](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Quantifiers/#Exists___intro "Documentation for Exists in Lean Language Reference")â†’(âˆ€(a:Î±),paâ†’b)â†’b`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@Exists.elim ``
```
@Exists.elim : âˆ€ {Î± : Sort u_1} {p : Î± â†’ Prop} {b : Prop}, (âˆƒ x, p x) â†’ (âˆ€ (a : Î±), p a â†’ b) â†’ b
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq.refl in Lean Language Reference")[Eq.refl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq.refl in Lean Language Reference") : âˆ€{Î±:Sort u_1}(a:Î±),a[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")a`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@[Eq.refl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq.refl in Lean Language Reference") ``
```
@Eq.refl : âˆ€ {Î± : Sort u_1} (a : Î±), a = a
```
`` `[@](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___subst "Documentation for Eq.subst in Lean Language Reference")[Eq.subst](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___subst "Documentation for Eq.subst in Lean Language Reference") : âˆ€{Î±:Sort u_1}{motive:Î±â†’Prop}{ab:Î±},a[=](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___refl "Documentation for Eq in Lean Language Reference")bâ†’motiveaâ†’motiveb`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@Eq.subst ``
```
@Eq.subst : âˆ€ {Î± : Sort u_1} {motive : Î± â†’ Prop} {a b : Î±}, a = b â†’ motive a â†’ motive b
```

## 6.12. è‡ªåŠ¨ç»‘å®šéšå¼å‚æ•°ğŸ”—

åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†éšå¼å‚æ•°å¦‚ä½•ä½¿å‡½æ•°ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€‚ ç„¶è€Œï¼Œåƒ `compose` è¿™æ ·çš„å‡½æ•°å®šä¹‰èµ·æ¥ä»ç„¶ç›¸å½“å†—é•¿ã€‚ è¯·æ³¨æ„ï¼Œå®‡å®™å¤šæ€çš„ `compose` ç”šè‡³æ¯”ä¹‹å‰å®šä¹‰çš„é‚£ä¸ªè¿˜è¦å†—é•¿ã€‚

`[universe](https://lean-lang.org/doc/reference/4.26.0/The-Type-System/Universes/#Lean___Parser___Command___universe-next "Documentation for syntax in Lean Language Reference")uvw` `defcompose{Î±:Typeu}{Î²:Typev}{Î³:Typew}(g:Î²â†’Î³)(f:Î±â†’Î²)(x:Î±):Î³:=g(fx)`

ä½ å¯ä»¥é€šè¿‡åœ¨å®šä¹‰ `compose` æ—¶æä¾›å®‡å®™å‚æ•°æ¥é¿å…ä½¿ç”¨ `universe` å‘½ä»¤ã€‚

`defcompose.{u,v,w}{Î±:Typeu}{Î²:Typev}{Î³:Typew}(g:Î²â†’Î³)(f:Î±â†’Î²)(x:Î±):Î³:=g(fx)`

Lean 4 æ”¯æŒä¸€é¡¹åä¸º *è‡ªåŠ¨ç»‘å®šéšå¼å‚æ•°* çš„æ–°åŠŸèƒ½ã€‚å®ƒä½¿å¾—åƒ `compose` è¿™æ ·çš„å‡½æ•°ç¼–å†™èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ å½“ Lean å¤„ç†å£°æ˜çš„å¤´éƒ¨æ—¶ï¼Œä»»ä½•æœªç»‘å®šçš„æ ‡è¯†ç¬¦éƒ½ä¼šè‡ªåŠ¨æ·»åŠ ä¸ºéšå¼å‚æ•°ã€‚æœ‰äº†è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å°† `compose` å†™ä¸ºï¼š

`defcompose(g:Î²â†’Î³)(f:Î±â†’Î²)(x:Î±):Î³:=g(fx)` `` `@compose : {Î²:Sort u_1}â†’{Î³:Sort u_2}â†’{Î±:Sort u_3}â†’(Î²â†’Î³)â†’(Î±â†’Î²)â†’Î±â†’Î³`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")@compose ``
```
@compose : {Î² : Sort u_1} â†’ {Î³ : Sort u_2} â†’ {Î± : Sort u_3} â†’ (Î² â†’ Î³) â†’ (Î± â†’ Î²) â†’ Î± â†’ Î³
```

è¯·æ³¨æ„ï¼ŒLean ä½¿ç”¨ `Sort` è€Œä¸æ˜¯ `Type` æ¨æ–­å‡ºäº†æ›´é€šç”¨çš„ç±»å‹ã€‚

è™½ç„¶æˆ‘ä»¬å–œæ¬¢è¿™ä¸ªåŠŸèƒ½å¹¶åœ¨å®ç° Lean æ—¶å¹¿æ³›ä½¿ç”¨å®ƒï¼Œä½†æˆ‘ä»¬æ„è¯†åˆ°ä¸€äº›ç”¨æˆ·å¯èƒ½ä¼šå¯¹æ­¤æ„Ÿåˆ°ä¸èˆ’æœã€‚ å› æ­¤ï¼Œä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤ `set_option[autoImplicit](https://lean-lang.org/doc/reference/4.26.0/Definitions/Headers-and-Signatures/#autoImplicit "Documentation for option autoImplicit in Lean Language Reference")false` ç¦ç”¨å®ƒã€‚

`set_option[autoImplicit](https://lean-lang.org/doc/reference/4.26.0/Definitions/Headers-and-Signatures/#autoImplicit "Documentation for option autoImplicit in Lean Language Reference")false` ``/-- error: Unknown identifier `Î²` --- error: Unknown identifier `Î³` --- error: Unknown identifier `Î±` --- error: Unknown identifier `Î²` --- error: Unknown identifier `Î±` --- error: Unknown identifier `Î³` -/[#guard_msgs](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")[in](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___guardMsgsCmd "Documentation for syntax in Lean Language Reference")defcompose(g:Î²â†’Î³)(f:Î±â†’Î²)(x:Î±):Î³:=g(fx)``

## 6.13. éšå¼ LambdağŸ”—

å½“è¡¨è¾¾å¼çš„é¢„æœŸç±»å‹æ˜¯ç­‰å¾…éšå¼å‚æ•°çš„å‡½æ•°æ—¶ï¼Œé˜è¿°å™¨ä¼šè‡ªåŠ¨å¼•å…¥ç›¸åº”çš„ lambdaã€‚ ä¾‹å¦‚ï¼Œ `[pure](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/#Pure___mk "Documentation for Pure.pure in Lean Language Reference")` çš„ç±»å‹è¡¨æ˜ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éšå¼ç±»å‹ `Î±` ï¼Œ ä½† `[ReaderT.pure](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___pure "Documentation for ReaderT.pure in Lean Language Reference")` çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ reader monad çš„ä¸Šä¸‹æ–‡ç±»å‹ `Ï` ã€‚ å®ƒä¼šè‡ªåŠ¨è¢« `fun` ` {Î±} => ...` åŒ…å›´ï¼Œè¿™å…è®¸é˜è¿°å™¨æ­£ç¡®å¡«å……ä¸»ä½“ä¸­çš„éšå¼å‚æ•°ã€‚

`instance:[Monad](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/#Monad___mk "Documentation for Monad in Lean Language Reference")([ReaderT](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT "Documentation for ReaderT in Lean Language Reference")Ïm)where[pure](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/#Pure___mk "Documentation for Pure.pure in Lean Language Reference"):=[ReaderT.pure](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___pure "Documentation for ReaderT.pure in Lean Language Reference")[bind](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/#Bind___mk "Documentation for Bind.bind in Lean Language Reference"):=[ReaderT.bind](https://lean-lang.org/doc/reference/4.26.0/Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___bind "Documentation for ReaderT.bind in Lean Language Reference")`

ç”¨æˆ·å¯ä»¥é€šè¿‡ä½¿ç”¨ `@` æˆ–ç¼–å†™å¸¦æœ‰ `{}` æˆ– `[]` ç»‘å®šå™¨æ³¨é‡Šçš„ lambda è¡¨è¾¾å¼æ¥ç¦ç”¨éšå¼ lambda åŠŸèƒ½ã€‚ è¿™é‡Œæœ‰å‡ ä¸ªä¾‹å­ï¼š

`defid1:{Î±:Type}â†’Î±â†’Î±:=funx=>x` `deflistId:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")({Î±:Type}â†’Î±â†’Î±):=(funx=>x)::[]` ``-- In this example, implicit lambda introduction has been disabled because -- we use `@` before {kw}`fun` -- åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œéšå¼ lambda å¼•å…¥å·²è¢«ç¦ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ {kw}`fun` ä¹‹å‰ä½¿ç”¨äº† `@` defid2:{Î±:Type}â†’Î±â†’Î±:=@funÎ±(x:Î±)=>[id1](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#Ex2___id1 "Definition of example")x`` `defid3:{Î±:Type}â†’Î±â†’Î±:=@funÎ±x=>[id1](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#Ex2___id1 "Definition of example")x` `defid4:{Î±:Type}â†’Î±â†’Î±:=funx=>[id1](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#Ex2___id1 "Definition of example")x` ``-- In this example, implicit lambda introduction has been disabled -- because we used the binder annotation `{...}` -- åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œéšå¼ lambda å¼•å…¥å·²è¢«ç¦ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†ç»‘å®šå™¨æ³¨é‡Š `{...}` defid5:{Î±:Type}â†’Î±â†’Î±:=fun{Î±}x=>[id1](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#Ex2___id1 "Definition of example")x``

## 6.14. ç®€å•å‡½æ•°çš„è¯­æ³•ç³–ğŸ”—

Lean åŒ…å«ä¸€ç§ä½¿ç”¨åŒ¿åå ä½ç¬¦è€Œä¸æ˜¯ `fun` æ¥æè¿°ç®€å•å‡½æ•°çš„ç¬¦å·ã€‚ å½“ `Â·` ä½œä¸ºé¡¹çš„ä¸€éƒ¨åˆ†å‡ºç°æ—¶ï¼Œæœ€è¿‘çš„å°é—­æ‹¬å·å°†æˆä¸ºä¸€ä¸ªä»¥ `Â·` ä¸ºå‚æ•°çš„å‡½æ•°ã€‚ å¦‚æœæ‹¬å·åŒ…å«å¤šä¸ªå ä½ç¬¦è€Œæ²¡æœ‰å…¶ä»–ä¸­é—´æ‹¬å·ï¼Œåˆ™å®ƒä»¬å°†ä»å·¦åˆ°å³æˆä¸ºå‚æ•°ã€‚è¿™é‡Œæœ‰å‡ ä¸ªä¾‹å­ï¼š

`` `funx=>x[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")1 : [Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")(Â·+1) ``
```
fun x => x + 1 : Nat â†’ Nat
```
`` `funx=>2[-](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HSub___mk "Documentation for HSub.hSub in Lean Language Reference")x : [Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")(2-Â·) ``
```
fun x => 2 - x : Nat â†’ Nat
```
`` `120`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")[1,2,3,4,5].[foldl](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___foldl "Documentation for List.foldl in Lean Language Reference")(Â·*Â·)1 ``
```
120
```
`deff(xyz:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):=x+y+z` `` `funx1x2=>[f](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#Ex3___f "Definition of example")x11x2 : [Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")([f](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#Ex3___f "Definition of example")Â·1Â·) ``
```
fun x1 x2 => f x1 1 x2 : Nat â†’ Nat â†’ Nat
```
`` `[1, 3, 5]`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")[(1,2),(3,4),(5,6)].[map](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___map "Documentation for List.map in Lean Language Reference")(Â·.1) ``
```
[1, 3, 5]
```

åµŒå¥—æ‹¬å·å¼•å…¥æ–°å‡½æ•°ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œåˆ›å»ºäº†ä¸¤ä¸ªä¸åŒçš„ lambda è¡¨è¾¾å¼ï¼š

`` `funx=>[(](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference")x[,](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference")funx=>x[+](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#HAdd___mk "Documentation for HAdd.hAdd in Lean Language Reference")1[)](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference") : ?m.1â†’?m.1[Ã—](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod in Lean Language Reference")([Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))`[#check](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___check "Documentation for syntax in Lean Language Reference")([Prod.mk](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Tuples/#Prod___mk "Documentation for Prod.mk in Lean Language Reference")Â·(Â·+1)) ``
```
fun x => (x, fun x => x + 1) : ?m.1 â†’ ?m.1 Ã— (Nat â†’ Nat)
```

## 6.15. å‘½åå‚æ•°ğŸ”—

å‘½åå‚æ•°å…è®¸ä½ é€šè¿‡å°†å‚æ•°ä¸å…¶åç§°åŒ¹é…è€Œä¸æ˜¯ä¸å…¶åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ä½ç½®åŒ¹é…æ¥æŒ‡å®šå‚æ•°çš„å®å‚ã€‚ å¦‚æœä½ ä¸è®°å¾—å‚æ•°çš„é¡ºåºä½†çŸ¥é“å®ƒä»¬çš„åç§°ï¼Œä½ å¯ä»¥ä»¥ä»»ä½•é¡ºåºå‘é€å‚æ•°ã€‚ å½“ Lean æ— æ³•æ¨æ–­éšå¼å‚æ•°æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ºå…¶æä¾›å€¼ã€‚ å‘½åå‚æ•°è¿˜é€šè¿‡æ ‡è¯†æ¯ä¸ªå‚æ•°ä»£è¡¨çš„å†…å®¹æ¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚

`defsum(xs:[List](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___nil "Documentation for List in Lean Language Reference")[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):=xs.[foldl](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Linked-Lists/#List___foldl "Documentation for List.foldl in Lean Language Reference")(init:=0)(Â·+Â·)` `` `10`[#eval](https://lean-lang.org/doc/reference/4.26.0/Interacting-with-Lean/#Lean___Parser___Command___eval "Documentation for syntax in Lean Language Reference")[sum](https://www.leanprover.cn/tp-lean-zh/InteractingWithLean/InteractingWithLean/#sum "Definition of example")[1,2,3,4] ``
```
10
```
`-- 10  example{ab:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")}{p:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’Prop}(hâ‚:pabb)(hâ‚‚:b=a):paab:=[Eq.subst](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#Eq___subst "Documentation for Eq.subst in Lean Language Reference")(motive:=funx=>paxb)hâ‚‚hâ‚`

åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¯´æ˜äº†å‘½åå‚æ•°å’Œé»˜è®¤å‚æ•°ä¹‹é—´çš„äº¤äº’ã€‚

`deff(x:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))(y:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"):=1)(w:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"):=2)(z:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):=x+y+w-z` `example(xz:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):f(z:=z)x=x+1+2-z:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example(xz:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):fx(z:=z)=x+1+2-z:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example(xy:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):fxy=funz=>x+y+2-z:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example:f=(funxz=>x+1+2-z):=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example(x:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):fx=funz=>x+1+2-z:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` ```example(`` unused variable `y`Note: This linter can be disabled with `set_option linter.unusedVariables false` ``y:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):f(y:=5)=funxz=>x+5+2-z:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")``` `defg{Î±}[[Add](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#Add___mk "Documentation for Add in Lean Language Reference")Î±](a:Î±)(b?:[Option](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option in Lean Language Reference")Î±:=[none](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.none in Lean Language Reference"))(c:Î±):Î±:=[match](https://lean-lang.org/doc/reference/4.26.0/Terms/Pattern-Matching/#Lean___Parser___Term___match "Documentation for syntax in Lean Language Reference")b?[with](https://lean-lang.org/doc/reference/4.26.0/Terms/Pattern-Matching/#Lean___Parser___Term___match "Documentation for syntax in Lean Language Reference")|[none](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.none in Lean Language Reference")=>a+c|[some](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.some in Lean Language Reference")b=>a+b+c` `[variable](https://lean-lang.org/doc/reference/4.26.0/Namespaces-and-Sections/#Lean___Parser___Command___variable "Documentation for syntax in Lean Language Reference"){Î±}[[Add](https://lean-lang.org/doc/reference/4.26.0/Type-Classes/Basic-Classes/#Add___mk "Documentation for Add in Lean Language Reference")Î±]` `example:g=fun(ac:Î±)=>a+c:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example(x:Î±):g(c:=x)=fun(a:Î±)=>a+x:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example(x:Î±):g(b?:=[some](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.some in Lean Language Reference")x)=fun(ac:Î±)=>a+x+c:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example(x:Î±):gx=fun(c:Î±)=>x+c:=[rfl](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#rfl-next "Documentation for rfl in Lean Language Reference")` `example(xy:Î±):gxy=fun(c:Î±)=>x+y+c:=rfl`

ä½ å¯ä»¥ä½¿ç”¨ `..` å°†ç¼ºå¤±çš„æ˜¾å¼å‚æ•°ä½œä¸º `_` æä¾›ã€‚ æ­¤åŠŸèƒ½ä¸å‘½åå‚æ•°ç»“åˆä½¿ç”¨å¯¹äºç¼–å†™æ¨¡å¼éå¸¸æœ‰ç”¨ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼š

`inductiveTermwhere|var(name:[String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference"))|num(val:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))|app(fn:Term)(arg:Term)|lambda(name:[String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference"))(type:Term)(body:Term)` `defgetBinderName:Termâ†’[Option](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option in Lean Language Reference")[String](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Strings/#String___ofByteArray "Documentation for String in Lean Language Reference")|Term.lambda(name:=n)..=>[some](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.some in Lean Language Reference")n|_=>[none](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.none in Lean Language Reference")` `defgetBinderType:Termâ†’[Option](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option in Lean Language Reference")Term|Term.lambda(type:=t)..=>[some](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.some in Lean Language Reference")t|_=>[none](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Optional-Values/#Option___none "Documentation for Option.none in Lean Language Reference")`

å½“ Lean å¯ä»¥è‡ªåŠ¨æ¨æ–­æ˜¾å¼å‚æ•°ï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›é¿å…ä¸€è¿ä¸²çš„ `_` æ—¶ï¼Œçœç•¥å·ä¹Ÿå¾ˆæœ‰ç”¨ã€‚

`example(f:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")â†’[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference"))(abc:[Nat](https://lean-lang.org/doc/reference/4.26.0/Basic-Types/Natural-Numbers/#Nat___zero "Documentation for Nat in Lean Language Reference")):f(a+b+c)=f(a+(b+c)):=[congrArg](https://lean-lang.org/doc/reference/4.26.0/Basic-Propositions/Propositional-Equality/#congrArg "Documentation for congrArg in Lean Language Reference")f(Nat.add_assoc..)`